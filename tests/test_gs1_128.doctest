test_gs1_128.doctest - more detailed doctests for the stdnum.gs1_128 module

Copyright (C) 2019 Sergi Almacellas Abellaan

This library is free software; you can redistribute it and/or
modify it under the terms of the GNU Lesser General Public
License as published by the Free Software Foundation; either
version 2.1 of the License, or (at your option) any later version.

This library is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
Lesser General Public License for more details.

You should have received a copy of the GNU Lesser General Public
License along with this library; if not, write to the Free Software
Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
02110-1301 USA


This file contains more detailed doctests for the stdnum.gs1_128 module. It
tries to test more corner cases and detailed functionality that is not
really useful as module documentation.

>>> from datetime import date
>>> from stdnum import gs1_128


>>> gs1_128.compact('(01)38425876095074(17)181119(37)1 ')
'013842587609507417181119371'

>>> gs1_128.encode({'01': '38425876095074', '17': date(2018, 11, 19), '37': 1})
'013842587609507417181119371'
>>> gs1_128.encode({'02': '98412345678900', '310': 17.23, '37': 32})
'0298412345678900310020017233732'
>>> gs1_128.encode({'02': '98412345678900', '03': '1234'})
'0298412345678900'
>>> gs1_128.encode({'01': '58425876097843', '10': '123456', '37': 18})
'015842587609784310123456              3718'
>>> gs1_128.encode({'01': '58425876097843', '10': '123456', '37': 18}, stopchar='|')
'015842587609784310123456|3718'

>>> gs1_128.info('(01)38425876095074(17)181119(37)1 ') == {'01': '38425876095074', '17': date(2018, 11, 19), '37': 1}
True
>>> gs1_128.info('013842587609507417181119371') == {'01': '38425876095074', '17': date(2018, 11, 19), '37': 1}
True
>>> gs1_128.info('0298412345678900310030172303732') == {'02': '98412345678900', '310': 17.23, '37': 32}
True
>>> gs1_128.info('(01)58425876097843(10)123456              (17)181119(37)18') == {'01': '58425876097843', '10': '123456', '17': date(2018, 11, 19), '37': 18}
True
>>> gs1_128.info('(01)58425876097843(10)123456|(17)181119(37)18', stopchar='|') == {'01': '58425876097843', '10': '123456', '17': date(2018, 11, 19), '37': 18}
True
>>> gs1_128.info('(03)38425876095074')
Traceback (most recent call last):
    ...
InvalidComponent: ...
