test_id_npwp.doctest - more detailed doctests for stdnum.id.npwp module

Copyright (C) 2020 Leandro Regueiro

This library is free software; you can redistribute it and/or
modify it under the terms of the GNU Lesser General Public
License as published by the Free Software Foundation; either
version 2.1 of the License, or (at your option) any later version.

This library is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
Lesser General Public License for more details.

You should have received a copy of the GNU Lesser General Public
License along with this library; if not, write to the Free Software
Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
02110-1301 USA


This file contains more detailed doctests for the stdnum.id.npwp module. It
tries to test more corner cases and detailed functionality that is not really
useful as module documentation.

>>> from stdnum.id import npwp


Tests for some corner cases.

>>> npwp.validate('023869720091000')
'023869720091000'
>>> npwp.validate('01.451.869.0-054.000')
'014518690054000'
>>> npwp.validate('02 . 433 . 917 . 8 - 011 . 000')
'024339178011000'
>>> npwp.format('013319595054000')
'01.331.959.5-054.000'
>>> npwp.validate('12345678901234')
Traceback (most recent call last):
    ...
InvalidLength: ...
>>> npwp.validate('FF3456789012345')
Traceback (most recent call last):
    ...
InvalidFormat: ...
>>> npwp.validate('01.451.869.7-054.000')
Traceback (most recent call last):
    ...
InvalidChecksum: ...


These have been found online and should all be valid numbers.

>>> numbers = '''
...
... 01.000.161.8-092.000
... 01.000.166.7-054.000
... 01.000.483.6-051.000
... 01.000.863.9-054.000
... 01.001.610.3-051.000
... 01.001.634.3-093.000
... 01.002.124.4-038.000
... 010692903641000
... 01.105.197.6-424.000
... 01.108.165.0-073.000
... 01.112.397.3-441.000
... 01.118.819.0-441.000
... 01.122.572.9-092.000
... 01.125.612.0-805.000
... 01.129.103.6-201.000
... 01.129.154.9-201.000
... 01.132.905.9-092.000
... 01.207.840.8-542.000
... 01.210.739.7-424.000
... 01.211.695.0-805.000
... 01.216.271.5-441.000
... 01.230.106.5-201.000
... 01.258.022.1-201.000
... 01.268.426.2-201.000
... 01.268.444.5-201.000
... 01.311.830.2-073.000
... 01.318.451.0-054.000
... 01.326.008.8-092.000
... 01.334.427.0-054.000
... 01.347.428.3-018.000
... 01.349.129-5-054-000
... 01.349.759.9-083.000
... 01.360.902.9-054.000
... 01.362.014.1-054.000
... 01.421.821.8-424.000
... 014300040123000
... 01.436.246.1-429.000
... 01.436.246.1-441.000
... 01.450.058.1-423.000
... 01.452.340.1-101.000
... 01.455.616.1-424.000
... 01.455.616.1-441.000
... 01.457.751.4-426.000
... 01.464.753.1-542.000
... 01.482.738.0-424.000
... 01.502.718.8-805.000
... 01.504.513.1-054.000
... 01.544.009.2.543.000
... 01.544.103.3-545.000
... 01.546.704.6-012.000
... 01.546.836.6-013.000
... 01.548.436.3-423.000
... 01.548.452.0-429.000
... 01.555.547.7-429.000
... 01.562.420.8-805.000
... 01.575.888.1-101.000
... 01.580.769.6-201.000
... 01.580.849.6-201.000
... 01.609.052.4-017.000
... 01.622.873.6-201.000
... 01.627.251.0-404.000
... 01.633.544.0-311.000
... 01.657.878.3-101.000
... 01.671.242.4-054.000
... 01.677.930.8-429.000
... 01.677.956.3-428.000
... 01.688.745.7-201.000
... 01.690.679.4-801.000
... 01.690.980.6-805.000
... 017048299643001
... 01.709.626.4-054.000
... 01.721.123.6-054.000
... 01.761.303.5-405.000
... 01.773.770.1-805.000
... 01.796.259.8-805.000
... 01.815.656.2-807.000
... 01.820.068.3-054.000
... 01.822.790.0-441.000
... 01.855.599.5-101.000
... 01.906.354.4-801.000
... 01.910.250.8-429.000
... 01.917.470.5-201.000
... 01.931.919.3-101.000
... 01.966.099.2-801.000
... 01.970.323.0-424.000
... 01.977.486.8-429.000
... 01.987.068.2-216.000
... 01.997.870.9-038.000
... 02.008.503.1-101.000
... 02.037.103.5-502.000
... 02.038.425.1-054.000
... 02.056.129.6-801.000
... 02.065.356.4-429.000
... 02.071.326.9-101.000
... 02.071.363.2-101.000
... 02.081.228.5-424.000
... 02.083.962.7-422.000
... 02.098.700.4-013.000
... 02.098.788.9-013.000
... 02.102.011.0-101.000
... 02.151.039.1-106.000
... 02.173.740.8-002.000
... 02.203.654.5-429.000
... 02.241.591.3-424.000
... 02.244.448.3-428.000
... 02.300.607.5-429.000
... 02.303.892.0-801.000
... 02.332.747.1-429.000
... 02.333.122.6-441.000
... 02.367.986.3-426.000
... 02.399.244.9-091.000
... 02.446.000.8-429.000
... 02.480.873.5-423.000
... 02.480.884.2-444.000
... 02.481.070.7-423.000
... 02.502.873.9-101.000
... 02.504.191.4-054.000
... 02.527.123.0-017.000
... 02.547.885.0-805.000
... 02.551.560.2-201.000
... 02.554.459.4-422.000
... 02.561.935.4-101.000
... 02.564.234.9-421.000
... 02.567.804.6-428.000
... 02.585.033.0-216.000
... 02.587.597.2-429.000
... 02.636.703.7-814.000
... 02.643.101.5-805.000
... 02.650.677.4-101.000
... 02.661.025.3-805.000
... 02.668.150.2-201.000
... 02.679.257.2-801.000
... 02.682.759.2-542.000
... 02.690.654.5-101.000
... 02.717.384.8-201.000
... 02.718.070.2-201.000
... 02.719.242.6-106.000
... 02.755.249.6-541.000
... 02.790.820.1-428.000
... 02.872.808.7-201.000
... 02.881.392.1-036.000
... 02.887.783.5-105.000
... 02.888.370.0-106.000
... 02.910.648.1-805.000
... 02.932.094.2-101.000
... 02.956.222.0-106.000
... 02.956.223.8-106.000
... 02.972.041.4-428.000
... 02.974.105.5-801.000
... 02.976.331.5-103.000
... 02.984.042.8-201.000
... 02.998.227.9-201.000
... 03.026.787.6-805.000
... 03.030.253.3-104.000
... 03.128.360.9-101.000
... 03.187.078.5-201.000
... 03.195.088.4-801.000
... 03.217.024.3-805.000
... 03.244.868.0-201.000
... 210614467418000
... 21.078.367.6-424.000
... 31.154.173.4-411.000
... 31.156.437.1-002.000
... 31.294.519.9-424.000
... 31.460.812.6-071.000
... 31.470.209.3-428.000
... 31.496.676.3-106.000
... 31.538.040.2-106.000
... 31.578.913.1-201.000
... 31.682.116.4-201.000
... 31.696.264.6-201.000
... 31.729.429.6-542.000
... 31.777.549.2-429.000
... 317784585606000
... 66.487.591.1-071.000
... 70.838.297.3-201.000
... 71.269.216.9-203.000
... 721437267602000
... 74.654.394.1-201.000
... 748575982452000
... 75.193.535.4-805.000
... 755023033513000
... 762278075077000
... 76.310.346.2-601.000
... 76.326.884.4-205.000
... 764038907023000
... 76.992.174.3-802.000
... 80.502.237.3-541.000
... 80.742.886.7-201.000
... 811145994124000
... 813195435017000
... 817434558048000
... 825537079086000
... 82.790.415.2-205.000
... 83.132.665.7-201.000
... 84.054.217.9-609.000
... 846150324629000
... 86.127.083.3-426.000
... 90.004.581.6-201.000
...
... '''
>>> [x for x in numbers.splitlines() if x and not npwp.is_valid(x)]
[]
